<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lvluplife – Journey</title>

  <style>
    /* =========================================================
       (1) KONTROLLPANEL – ändra storlekar/färger här
       ========================================================= */
    :root{
      /* Färger */
      --bg: #000000;      /* bakgrund (svart) */
      --fg: #ffffff;      /* textfärg (vit) */

      /* Rubrik (mindre än tidigare) */
      --title-color: #ffffff;
      --title-glow: rgba(0,255,200,.45);
      --title-size-min: 1.6rem;   /* ~25px */
      --title-size-fluid: 3.5vw;  /* skalar lite med viewport */
      --title-size-max: 2.25rem;  /* ~36px */

      /* Avstånd */
      --wrap-max: 720px;
      --gap: 18px;

      /* Dropdown-rutan */
      --dd-bg: #ffffff;
      --dd-fg: #0a0a0a;
      --dd-border: #ffffff;
      --dd-radius: 12px;
      --dd-pad-y: 12px;
      --dd-pad-x: 16px;
      --dd-fontsize: 1rem;
      --dd-shadow: 0 0 16px rgba(255,255,255,.12);

      /* Meny */
      --menu-bg: #101010;
      --menu-fg: #ffffff;
      --menu-border: #2a2a2a;
      --menu-hover: rgba(255,255,255,.08);
      --menu-focus: rgba(0,255,200,.25);

      /* (valfritt) curtain som tonar ut sken när sidan öppnar */
      --curtain-color: #ffffff;
      --curtain-duration: 500ms;
      --curtain-blur: 2px;
    }

    /* =========================================================
       (2) BASLAYOUT
       ========================================================= */
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    body{
      background: var(--bg);
      color: var(--fg);
      font-family: "Poppins","Helvetica Neue",Arial,sans-serif;
      display:flex; align-items:flex-start; justify-content:center;
      min-height:100svh; overflow:hidden;
      padding: 10vh 4vw 6vh;
    }
    .wrap{
      width:min(var(--wrap-max), 92vw);
      display:flex; flex-direction:column; align-items:center;
      gap: var(--gap);
      text-align:center;
      position: relative;
      z-index: 1;
    }

    /* =========================================================
       (3) RUBRIK – liten, tydlig, samma stil
       ========================================================= */
    h1{
      color: var(--title-color);
      font-size: clamp(var(--title-size-min), var(--title-size-fluid), var(--title-size-max));
      font-weight: 800;
      letter-spacing: .06em;
      text-transform: none;         /* exakt text, ej uppercase */
      text-shadow: 0 0 18px var(--title-glow);
    }

    /* =========================================================
       (4) DROPDOWN – vit ruta + meny
       ========================================================= */
    .chooser{ width:100%; max-width:560px; }

    .dropdown{
      width:100%;
      background: var(--dd-bg); color: var(--dd-fg);
      border:2px solid var(--dd-border); border-radius: var(--dd-radius);
      padding: var(--dd-pad-y) var(--dd-pad-x);
      font-size: var(--dd-fontsize);
      display:flex; align-items:center; justify-content:space-between;
      cursor:pointer; box-shadow: var(--dd-shadow);
      transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
      outline:none; user-select:none;
    }
    .dropdown:hover{ transform: translateY(-1px); filter:saturate(1.02) }
    .dropdown:active{ transform: translateY(0) scale(.99) }
    .dropdown .value{ font-weight:700; }
    .dropdown .chev{ margin-left:12px; opacity:.7; transition: transform .18s ease; }
    .dropdown[aria-expanded="true"] .chev{ transform: rotate(180deg); opacity:.95; }

    .menu{ position:relative; width:100%; }
    .menu ul{
      position:absolute; top:8px; left:0; right:0;
      background: var(--menu-bg); color: var(--menu-fg);
      border:1px solid var(--menu-border);
      border-radius:12px; box-shadow:0 12px 28px rgba(0,0,0,.5);
      list-style:none; overflow:hidden; padding:6px;
      display:none; z-index:10;
    }
    .menu[data-open="true"] ul{ display:block; }
    .menu li{
      padding:12px; border-radius:10px; display:flex; align-items:center; justify-content:space-between;
      transition: background .15s ease, outline .15s ease; outline:0 solid transparent; cursor:pointer;
    }
    .menu li:hover{ background: var(--menu-hover); }
    .menu li[aria-selected="true"]{
      background: linear-gradient(90deg, rgba(0,255,200,.12), transparent);
      outline:2px solid var(--menu-focus);
    }

    /* =========================================================
       (5) CURTAIN – (valfritt) sken som tonar ut
       ========================================================= */
    #entryCurtain{
      position: fixed; inset: 0;
      background: var(--curtain-color);
      z-index: 9999;
      opacity: 1;
      pointer-events: none;
    }
    #entryCurtain.curtain-out{
      animation: curtainFadeOut var(--curtain-duration) cubic-bezier(.22,.61,.36,1) forwards;
    }
    @keyframes curtainFadeOut{
      0%   { opacity: 1; filter: blur(var(--curtain-blur)); }
      100% { opacity: 0; filter: blur(0px); }
    }
  </style>
</head>
<body>
  <!-- (valfritt) vitt sken som tonar bort när sidan öppnar -->
  <div id="entryCurtain" aria-hidden="true"></div>

  <main class="wrap" role="main">
    <h1>What do you want to improve?</h1>

    <!-- Vit ruta som öppnar dropdown -->
    <section class="chooser" aria-label="Improvement category">
      <button
        id="ddButton"
        class="dropdown"
        aria-haspopup="listbox"
        aria-expanded="false"
        aria-controls="ddMenuList"
        type="button"
      >
        <span class="value" id="ddValue">Select…</span>
        <svg class="chev" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M7 10l5 5 5-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>

      <!-- Dropdown-meny (just nu endast Lifestyle) -->
      <div class="menu" id="ddMenu" data-open="false">
        <ul id="ddMenuList" role="listbox" aria-labelledby="ddButton">
          <li role="option" data-value="Lifestyle" aria-selected="true" tabindex="0">
            <span>Lifestyle</span>
            <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M20 6L9 17l-5-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </li>
        </ul>
      </div>
    </section>
  </main>

  <script>
    /* Curtain: tona bort vid start (kan tas bort helt om du inte vill ha sken) */
    function startCurtainFade(){
      const curtain = document.getElementById('entryCurtain');
      if (!curtain) return;
      requestAnimationFrame(() => curtain.classList.add('curtain-out'));
      // failsafe
      setTimeout(() => { curtain.remove?.(); }, 1200);
    }
    document.addEventListener('DOMContentLoaded', startCurtainFade);
    window.addEventListener('pageshow', () => {
      let c = document.getElementById('entryCurtain');
      if (!c){
        c = document.createElement('div'); c.id='entryCurtain'; c.setAttribute('aria-hidden','true');
        document.body.prepend(c);
      }else{
        c.classList.remove('curtain-out');
      }
      startCurtainFade();
    });

    /* Dropdown-logik */
    const ddButton = document.getElementById('ddButton');
    const ddMenu   = document.getElementById('ddMenu');
    const ddList   = document.getElementById('ddMenuList');
    const ddValue  = document.getElementById('ddValue');

    function openMenu(){
      ddMenu.dataset.open = "true";
      ddButton.setAttribute('aria-expanded', 'true');
      const first = ddList.querySelector('[role="option"]');
      if (first) first.focus();
      document.addEventListener('click', clickAwayClose);
      document.addEventListener('keydown', keyClose);
    }
    function closeMenu(){
      ddMenu.dataset.open = "false";
      ddButton.setAttribute('aria-expanded', 'false');
      document.removeEventListener('click', clickAwayClose);
      document.removeEventListener('keydown', keyClose);
      ddButton.focus();
    }
    function toggleMenu(){
      (ddMenu.dataset.open === "true") ? closeMenu() : openMenu();
    }
    function clickAwayClose(e){
      if (!ddMenu.contains(e.target) && e.target !== ddButton) closeMenu();
    }
    function keyClose(e){
      if (e.key === 'Escape') closeMenu();
    }

    ddButton.addEventListener('click', toggleMenu);
    ddButton.addEventListener('keydown', (e)=>{
      if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openMenu(); }
      if (e.key === 'ArrowDown'){ e.preventDefault(); openMenu(); }
    });

    ddList.addEventListener('click', (e)=>{
      const li = e.target.closest('[role="option"]');
      if (!li) return;
      selectOption(li);
    });
    ddList.addEventListener('keydown', (e)=>{
      const options = Array.from(ddList.querySelectorAll('[role="option"]'));
      const current = document.activeElement;
      let idx = options.indexOf(current);
      if (e.key === 'ArrowDown'){ e.preventDefault(); (options[idx+1] || options[0]).focus(); }
      if (e.key === 'ArrowUp'){ e.preventDefault(); (options[idx-1] || options[options.length-1]).focus(); }
      if (e.key === 'Enter' || e.key === ' '){ e.preventDefault(); selectOption(current); }
      if (e.key === 'Escape'){ e.preventDefault(); closeMenu(); }
    });

    function selectOption(li){
      ddList.querySelectorAll('[role="option"]').forEach(o => o.setAttribute('aria-selected','false'));
      li.setAttribute('aria-selected','true');
      const value = li.dataset.value || li.textContent.trim();
      ddValue.textContent = value;
      closeMenu();
    }

    // Initiera förvalt värde (Lifestyle)
    (function initSelected(){
      const selected = ddList.querySelector('[role="option"][aria-selected="true"]');
      if (selected) ddValue.textContent = selected.dataset.value || selected.textContent.trim();
    })();
  </script>

  <!-- Om du inte vill ha skenet alls: ta bort #entryCurtain + curtain-koden ovan -->
</body>
</html>
